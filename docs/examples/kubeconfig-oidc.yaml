# Example Kubeconfig for OIDC Authentication

apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0t...  # Your cluster's CA certificate
    server: https://your-kubernetes-api-server:6443
  name: itlusions-cluster
contexts:
- context:
    cluster: itlusions-cluster
    user: oidc-user
  name: itlusions-context
current-context: itlusions-context
preferences: {}
users:
- name: oidc-user
  user:
    exec:
      apiVersion: client.authentication.k8s.io/v1beta1
      command: kubelogin
      args:
      - get-token
      - --oidc-issuer-url=https://sts.itlusions.com/realms/itlusions
      - --oidc-client-id=kubernetes-oidc
      - --oidc-extra-scope=email
      - --oidc-extra-scope=profile
      env: null
      provideClusterInfo: false